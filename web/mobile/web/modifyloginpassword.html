<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>VERCOIN</title>
    <script src="../js/zepto.js"></script>
    <script src="../js/touch.js"></script>
    <script src="../js/rem.js"></script>
    <link rel="stylesheet" href="../css/normalize.css"/>
    <link rel="stylesheet" href="../css/main.css"/>
</head>
<body>
    <header class="common-header">
      <div class="common-header-left" onClick="javascript:history.back(-1);">
         <img src="../images/back@3x.png" alt="">
      </div>
      <div class="common-header-center">
         <span class="f36 c-fff">修改登录密码</span>
      </div>
      <div class="common-header-right">
         <img src="../images/logo@3x.png" alt="">
      </div>
    </header>
    <div class="modify-login-password-content">
        <div class="common-input-item common-input-item-label-2 w620">
            <label class="label-b">旧密码</label>
            <input type="password" class="common-input h80 " placeholder="请输入旧密码" id="oldPassword">
            <div class="error-text"></div>
        </div>
        <div class="common-input-item common-input-item-label-2 w620">
            <label class="label-b">新密码</label>
            <input type="password" class="common-input h80 " placeholder="请输入新密码" id="newPassword">
            <div class="error-text"></div>
        </div>
        <div class="common-input-item common-input-item-label-2 w620">
            <label class="label-b">确认新密码</label>
            <input type="password" class="common-input h80 " placeholder="请再次输入新密码" id="confirmPassword">
            <div class="error-text"></div>
        </div>
        <button class="common-btn-bgc-d93740 w620 h80 mt50" id="submit">提交</button>
    </div>
    <script src="../js/common.js"></script>
    <script type="text/javascript">
        $("#submit").on("tap", function () {
            var pass = 1;
            var doms = [$("#oldPassword"),$("#newPassword"),$("#confirmPassword")];
            // show error inner func
            function err(dom, text, isParent) {
                var ele = isParent ? dom.parent() : dom;
                ele.addClass("common-input-error").next(".error-text").text(text).show();
            }
            if (!doms[0].val()) {
                err(doms[0],"旧密码不正确");
                pass = 0;
            }
            if (!doms[1].val()) {
                err(doms[1],"新密码不能为空");
                pass = 0;
            }else {
                if(doms[1].val().length < 6 || doms[1].val().length > 20){
                    err(doms[1],"密码长度为6-20之间");
                    pass = 0;
                }
            }
            if (!doms[2].val()) {
                err(doms[2],"新密码不能为空");
                pass = 0;
            }else{
                if(doms[2].val().length < 6 || doms[2].val().length > 20){
                err(doms[2],"密码长度为6-20之间");
                pass = 0;
                }
                if(!(doms[1].val()==doms[2].val())){
                    err(doms[2],"两次输入密码不一致")
                }
            }

        })
    </script>
</body>
</html>